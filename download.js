(function(v,a){"function"===typeof define&&define.amd?define([],a):"object"===typeof exports?module.exports=a():v.download=a()})(this,function(){return function w(a,d,k){function t(b){var e=b.split(/[:;,]/);b=e[1];e=("base64"==e[2]?atob:decodeURIComponent)(e.pop());var l=e.length,n=0,u=new Uint8Array(l);for(n;n<l;++n)u[n]=e.charCodeAt(n);return new h([u],{type:b})}function p(b,e){if("download"in c)return c.href=b,c.setAttribute("download",q),c.className="download-js-link",c.innerHTML="downloading...",
c.style.display="none",document.body.appendChild(c),setTimeout(function(){c.click();document.body.removeChild(c);!0===e&&setTimeout(function(){g.URL.revokeObjectURL(c.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return b=b.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream"),!window.open(b)&&confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=b),!0;var l=document.createElement("iframe");
document.body.appendChild(l);e||(b="data:"+b.replace(/^data:([\w\/\-\+]+)/,"application/octet-stream"));l.src=b;setTimeout(function(){document.body.removeChild(l)},333)}var g=window,f=k||"application/octet-stream",m=!d&&!k&&a,c=document.createElement("a");k=function(b){return String(b)};var h=g.Blob||g.MozBlob||g.WebKitBlob||k,q=d||"download";h=h.call?h.bind(g):Blob;"true"===String(this)&&(a=[a,f],f=a[0],a=a[1]);if(m&&2048>m.length&&(q=m.split("/").pop().split("?")[0],c.href=m,-1!==c.href.indexOf(m))){var r=
new XMLHttpRequest;r.open("GET",m,!0);r.responseType="blob";r.onload=function(b){w(b.target.response,q,"application/octet-stream")};setTimeout(function(){r.send()},0);return r}if(/^data:[\w+\-]+\/[\w+\-]+[,;]/.test(a))if(2096103.424<a.length&&h!==k)a=t(a),f=a.type||"application/octet-stream";else return navigator.msSaveBlob?navigator.msSaveBlob(t(a),q):p(a);d=a instanceof h?a:new h([a],{type:f});if(navigator.msSaveBlob)return navigator.msSaveBlob(d,q);if(g.URL)p(g.URL.createObjectURL(d),!0);else{if("string"===
typeof d||d.constructor===k)try{return p("data:"+f+";base64,"+g.btoa(d))}catch(b){return p("data:"+f+","+encodeURIComponent(d))}f=new FileReader;f.onload=function(b){p(this.result)};f.readAsDataURL(d)}return!0}});